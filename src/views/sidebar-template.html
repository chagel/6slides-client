<!DOCTYPE html>
<html>
<head>
  <title>Notion to Slides</title>
  <link rel="stylesheet" href="assets/styles/common.css">
  <link rel="stylesheet" href="assets/styles/sidebar.css">
</head>
<body>
  <!-- Sidebar -->
  <div class="sidebar">
    <div class="sidebar-header">
      <img src="assets/icons/icon128.png" alt="Notion to Slides" class="sidebar-logo">
      <div class="sidebar-title">Notion to Slides</div>
    </div>
    
    <nav class="sidebar-nav">
      <a href="#about" class="nav-item" id="nav-about">About</a>
      <a href="#settings" class="nav-item" id="nav-settings">Settings</a>
      <a href="#help" class="nav-item" id="nav-help">Help</a>
    </nav>
    
    <div class="sidebar-footer">
      <div id="subscription-indicator" class="subscription-indicator">
        <span id="subscription-badge" class="subscription-badge free">FREE</span>
        <span id="subscription-text">Free Plan</span>
      </div>
      Version {{VERSION_NO_V}}
    </div>
  </div>
  
  <!-- Content area - this will be different for each page -->
  <div class="content">
    <!-- Content will be injected here -->
  </div>

  <script>
    // This will be replaced in the actual pages
    document.addEventListener('DOMContentLoaded', () => {
      // Navigation handling
      const navItems = document.querySelectorAll('.nav-item');
      const pageSections = document.querySelectorAll('.page-section');
      
      function setActivePage(pageId) {
        // Update nav items
        navItems.forEach(item => {
          item.classList.remove('active');
          if (item.getAttribute('href') === `#${pageId}`) {
            item.classList.add('active');
          }
        });
        
        // Update visible section
        pageSections.forEach(section => {
          section.classList.remove('active');
          if (section.id === pageId) {
            section.classList.add('active');
          }
        });
        
        // Update URL hash
        history.pushState(null, null, `#${pageId}`);
        
        // Save last active page
        localStorage.setItem('notionSlidesActivePage', pageId);
      }
      
      // Handle navigation clicks
      navItems.forEach(item => {
        item.addEventListener('click', e => {
          e.preventDefault();
          const pageId = item.getAttribute('href').substring(1);
          setActivePage(pageId);
        });
      });
      
      // Handle initial page load (from hash or localStorage)
      const hash = window.location.hash.substring(1);
      const savedPage = localStorage.getItem('notionSlidesActivePage');
      const defaultPage = 'about'; // Default page
      
      if (hash && document.getElementById(hash)) {
        setActivePage(hash);
      } else if (savedPage && document.getElementById(savedPage)) {
        setActivePage(savedPage);
      } else {
        setActivePage(defaultPage);
      }
    });
  </script>
</body>
</html>